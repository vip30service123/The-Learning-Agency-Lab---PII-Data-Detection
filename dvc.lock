schema: '2.0'
stages:
  prepare_data:
    cmd: python data_processing.py
    deps:
    - path: data/train.json
      hash: md5
      md5: 8d0a32073dd7bc9d817a8ac1f6c20376
      size: 109496478
    - path: data_processing.py
      hash: md5
      md5: 1ece068cf736e8de44e3f6137113c80f
      size: 1699
    params:
      params.yaml:
        dataset:
          data_path: ./data/train.json
          processed_train_path: ./processed_data/processed_train.csv
          processed_test_path: ./processed_data/processed_test.csv
          train_percentage: 0.8
          max_length: 1024
          random_seed: 1234
          bsz: 8
          is_shuffle: true
    outs:
    - path: ./processed_data/processed_test.csv
      hash: md5
      md5: 50355995841bce97d323df2b287e82de
      size: 84092887
    - path: ./processed_data/processed_train.csv
      hash: md5
      md5: f777adcde1d27deb58933919b39eb81b
      size: 333681692
  feature_extraction:
    cmd: python feature_extraction.py
    deps:
    - path: ./src/const.py
      hash: md5
      md5: d2ae591de82c7f6f1b091a13d7a17dd1
      size: 534
    - path: ./src/tokenizer.py
      hash: md5
      md5: d330c4004df1f048f29ae9d054cf8dae
      size: 1126
    - path: ./src/utils.py
      hash: md5
      md5: cb7a7d7e2f894b6cb54357356bb33e78
      size: 566
    - path: data/train.json
      hash: md5
      md5: 8d0a32073dd7bc9d817a8ac1f6c20376
      size: 109496478
    - path: feature_extraction.py
      hash: md5
      md5: 1ece068cf736e8de44e3f6137113c80f
      size: 1699
    params:
      params.yaml:
        dataset:
          data_path: ./data/train.json
          processed_train_path: ./processed_data/processed_train.csv
          processed_test_path: ./processed_data/processed_test.csv
          train_percentage: 0.8
          max_length: 1024
          random_seed: 1234
          bsz: 8
          is_shuffle: true
    outs:
    - path: ./processed_data/processed_test.csv
      hash: md5
      md5: 50355995841bce97d323df2b287e82de
      size: 84092887
    - path: ./processed_data/processed_train.csv
      hash: md5
      md5: f777adcde1d27deb58933919b39eb81b
      size: 333681692
  train:
    cmd: python train.py
    deps:
    - path: ./processed_data/processed_test.csv
      hash: md5
      md5: 50355995841bce97d323df2b287e82de
      size: 84092887
    - path: ./processed_data/processed_train.csv
      hash: md5
      md5: f777adcde1d27deb58933919b39eb81b
      size: 333681692
    - path: ./src/const.py
      hash: md5
      md5: d2ae591de82c7f6f1b091a13d7a17dd1
      size: 534
    - path: ./src/dataset.py
      hash: md5
      md5: ee75972f0f888355fc09c0b0010f22bf
      size: 1085
    - path: ./src/metric.py
      hash: md5
      md5: d68979800b72d575fbc6f506489f7530
      size: 7797
    - path: train.py
      hash: md5
      md5: 729cc5cb9fcd1d0edb1761c9a0587502
      size: 2026
    params:
      params.yaml:
        model:
          base_model_name_or_path: microsoft/deberta-v3-base
        trainer:
          output_dir: ./results
          num_train_epochs: 3
          per_device_train_batch_size: 8
          per_device_eval_batch_size: 8
          weight_decay: 0.01
          logging_dir: ./logs
          evaluation_strategy: steps
          logging_steps: 1
          eval_steps: 1
    outs:
    - path: ./results
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
