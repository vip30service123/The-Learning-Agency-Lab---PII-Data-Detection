schema: '2.0'
stages:
  prepare_data:
    cmd: python data_processing.py
    deps:
    - path: data/train.json
      hash: md5
      md5: 8d0a32073dd7bc9d817a8ac1f6c20376
      size: 109496478
    - path: data_processing.py
      hash: md5
      md5: 1ece068cf736e8de44e3f6137113c80f
      size: 1699
    params:
      params.yaml:
        dataset:
          data_path: ./data/train.json
          processed_train_path: ./processed_data/processed_train.csv
          processed_test_path: ./processed_data/processed_test.csv
          train_percentage: 0.8
          max_length: 1024
          random_seed: 1234
          bsz: 8
          is_shuffle: true
    outs:
    - path: ./processed_data/processed_test.csv
      hash: md5
      md5: 50355995841bce97d323df2b287e82de
      size: 84092887
    - path: ./processed_data/processed_train.csv
      hash: md5
      md5: f777adcde1d27deb58933919b39eb81b
      size: 333681692
  feature_extraction:
    cmd: python feature_extraction.py
    deps:
    - path: ./src/const.py
      hash: md5
      md5: f460ed11d3c7496b1042200a5b64f690
      size: 316
    - path: ./src/tokenizer.py
      hash: md5
      md5: cb96e3fc490095d720f9bc79622cf7ec
      size: 1160
    - path: ./src/utils.py
      hash: md5
      md5: 49d6423f6f9c27ab483d740675f7d004
      size: 566
    - path: data/train.json
      hash: md5
      md5: 8d0a32073dd7bc9d817a8ac1f6c20376
      size: 109496478
    - path: feature_extraction.py
      hash: md5
      md5: 1ece068cf736e8de44e3f6137113c80f
      size: 1699
    params:
      params.yaml:
        dataset:
          data_path: ./data/train.json
          processed_train_path: ./processed_data/processed_train.csv
          processed_test_path: ./processed_data/processed_test.csv
          train_percentage: 0.8
          max_length: 1024
          random_seed: 1234
          bsz: 8
          is_shuffle: true
    outs:
    - path: ./processed_data/processed_test.csv
      hash: md5
      md5: 50355995841bce97d323df2b287e82de
      size: 84092887
    - path: ./processed_data/processed_train.csv
      hash: md5
      md5: f777adcde1d27deb58933919b39eb81b
      size: 333681692
  train:
    cmd: python train.py
    deps:
    - path: ./processed_data/processed_test.csv
      hash: md5
      md5: 50355995841bce97d323df2b287e82de
      size: 84092887
    - path: ./processed_data/processed_train.csv
      hash: md5
      md5: f777adcde1d27deb58933919b39eb81b
      size: 333681692
    - path: ./src/const.py
      hash: md5
      md5: f460ed11d3c7496b1042200a5b64f690
      size: 316
    - path: ./src/dataset.py
      hash: md5
      md5: ee75972f0f888355fc09c0b0010f22bf
      size: 1085
    - path: ./src/metric.py
      hash: md5
      md5: fafb52bcb75ca43ba491b7ac6da5eb62
      size: 958
    - path: train.py
      hash: md5
      md5: 2ddcd1108c01ca00ff5927f1c916604e
      size: 2092
    params:
      params.yaml:
        model:
          base_model_name_or_path: microsoft/deberta-v3-base
        trainer:
          output_dir: ./results
          num_train_epochs: 3
          per_device_train_batch_size: 8
          per_device_eval_batch_size: 8
          weight_decay: 0.01
          logging_dir: ./logs
          evaluation_strategy: steps
          logging_steps: 1
          eval_steps: 1
    outs:
    - path: ./results
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
