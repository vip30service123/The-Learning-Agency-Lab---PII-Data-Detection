schema: '2.0'
stages:
  prepare_data:
    cmd: python data_processing.py
    deps:
    - path: data/train.json
      hash: md5
      md5: 8d0a32073dd7bc9d817a8ac1f6c20376
      size: 109496478
    - path: data_processing.py
      hash: md5
      md5: 1ece068cf736e8de44e3f6137113c80f
      size: 1699
    params:
      params.yaml:
        dataset:
          data_path: ./data/train.json
          processed_train_path: ./processed_data/processed_train.csv
          processed_test_path: ./processed_data/processed_test.csv
          train_percentage: 0.8
          max_length: 1024
          random_seed: 1234
          bsz: 8
          is_shuffle: true
    outs:
    - path: ./processed_data/processed_test.csv
      hash: md5
      md5: 50355995841bce97d323df2b287e82de
      size: 84092887
    - path: ./processed_data/processed_train.csv
      hash: md5
      md5: f777adcde1d27deb58933919b39eb81b
      size: 333681692
  feature_extraction:
    cmd: python feature_extraction.py
    deps:
    - path: ./src/const.py
      hash: md5
      md5: d2ae591de82c7f6f1b091a13d7a17dd1
      size: 534
    - path: ./src/tokenizer.py
      hash: md5
      md5: d330c4004df1f048f29ae9d054cf8dae
      size: 1126
    - path: ./src/utils.py
      hash: md5
      md5: dedb4886326df89ab02aa3ec1564bb88
      size: 2869
    - path: data/train.json
      hash: md5
      md5: 8d0a32073dd7bc9d817a8ac1f6c20376
      size: 109496478
    - path: feature_extraction.py
      hash: md5
      md5: efbac6117e0bada7674ac3fb3e2fc7f2
      size: 1989
    params:
      params.yaml:
        dataset:
          data_path: ./data/train.json
          processed_train_path: ./processed_data/processed_train.csv
          processed_test_path: ./processed_data/processed_test.csv
          train_percentage: 0.8
          max_length: 1024
          random_seed: 1234
          bsz: 8
          is_shuffle: true
          down_sample_percentage: 0.3
    outs:
    - path: ./processed_data/processed_test.csv
      hash: md5
      md5: e63a6ac9fd5a443258353b8cb9d869c3
      size: 37646670
    - path: ./processed_data/processed_train.csv
      hash: md5
      md5: d4df31b317a1e3d85d584cfe774700d1
      size: 149219399
  train:
    cmd: python train.py
    deps:
    - path: ./processed_data/processed_test.csv
      hash: md5
      md5: 50355995841bce97d323df2b287e82de
      size: 84092887
    - path: ./processed_data/processed_train.csv
      hash: md5
      md5: f777adcde1d27deb58933919b39eb81b
      size: 333681692
    - path: ./src/const.py
      hash: md5
      md5: d2ae591de82c7f6f1b091a13d7a17dd1
      size: 534
    - path: ./src/dataset.py
      hash: md5
      md5: ee75972f0f888355fc09c0b0010f22bf
      size: 1085
    - path: ./src/metric.py
      hash: md5
      md5: 255c50b1fe22876c12d600567fb81999
      size: 6256
    - path: train.py
      hash: md5
      md5: 656f5282a8890b006fd1286b1db74066
      size: 1990
    params:
      params.yaml:
        model:
          base_model_name_or_path: microsoft/deberta-v3-base
        trainer:
          output_dir: ./results
          num_train_epochs: 3
          per_device_train_batch_size: 8
          per_device_eval_batch_size: 8
          weight_decay: 0.01
          logging_dir: ./logs
          evaluation_strategy: steps
          logging_steps: 1
          eval_steps: 1
    outs:
    - path: ./results
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
